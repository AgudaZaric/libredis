- close connection on connection free
- list alloc executor
? reconnect when server disconnected (auto server disconnect)
? make proper php module globals for g_connections and g_module
? signal interrupt errors?

php:    
    - batch->simple_reply()
    - use static redis lib for php extension
    - Call-time pass-by-reference 
            Apr  2 16:38:40 src@web714 nginx: 2010/04/02 16:38:40 [error] 29536#0: *92778127 FastCGI sent in stderr: "PHP Warning:  Call-time pass-by-reference has been deprecated in /var/www/hyves/CLASSES/UTIL/Application/HyvesApplication.php on line 15
    - read/write timeout error
    
    
15:40:24.522793 write(8, "SET hellohenk 8\r\nblaataap\r\n"..., 27) = 27
15:40:24.522843 epoll_ctl(3, EPOLL_CTL_ADD, 8, {EPOLLIN, {u32=8, u64=8}}) = 0
15:40:24.522880 epoll_wait(3, {}, 32767, 0) = 0
15:40:24.522910 epoll_ctl(3, EPOLL_CTL_DEL, 8, {EPOLLIN, {u32=8, u64=8}}) = 0
15:40:24.522943 close(8)                = 0
15:40:24.522996 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 8
15:40:24.523035 fcntl(8, F_GETFL)       = 0x2 (flags O_RDWR)
15:40:24.523064 fcntl(8, F_SETFL, O_RDWR|O_NONBLOCK) = 0
15:40:24.523091 connect(8, {sa_family=AF_INET, sin_port=htons(6379), sin_addr=inet_addr("10.13.5.3")}, 16) = -1 EINPROGRESS
 (Operation now in progress)
15:40:24.523153 epoll_ctl(3, EPOLL_CTL_ADD, 8, {EPOLLOUT, {u32=8, u64=8}}) = 0
15:40:24.523186 epoll_wait(3, {{EPOLLOUT, {u32=8, u64=8}}}, 32767, 200) = 1
15:40:24.524197 epoll_ctl(3, EPOLL_CTL_DEL, 8, {EPOLLOUT, {u32=8, u64=8}}) = 0
15:40:24.524321 getsockopt(8, SOL_SOCKET, SO_ERROR, [17179869184], [4]) = 0
15:40:24.524418 epoll_ctl(3, EPOLL_CTL_ADD, 8, {EPOLLIN, {u32=8, u64=8}}) = 0
15:40:24.524515 write(8, "GET hellohenk\r\n"..., 15) = 15
15:40:24.524612 epoll_wait(3, {{EPOLLIN, {u32=8, u64=8}}}, 32767, 199) = 1
15:40:24.525609 epoll_ctl(3, EPOLL_CTL_DEL, 8, {EPOLLIN, {u32=8, u64=8}}) = 0
15:40:24.525678 read(8, "$8\r\nblaataap\r\n"..., 12288) = 14


15:38:57.301544 write(8, "SET hellohenk 8\r\nblaataap\r\n"..., 27) = 27
15:38:57.301602 epoll_ctl(3, EPOLL_CTL_ADD, 8, {EPOLLIN, {u32=8, u64=8}}) = 0
15:38:57.301640 epoll_wait(3, {}, 32767, 0) = 0
15:38:57.301671 epoll_ctl(3, EPOLL_CTL_DEL, 8, {EPOLLIN, {u32=8, u64=8}}) = 0
15:38:57.301706 close(8)                = 0
15:38:57.301762 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 8
15:38:57.301806 fcntl(8, F_GETFL)       = 0x2 (flags O_RDWR)
15:38:57.301836 fcntl(8, F_SETFL, O_RDWR|O_NONBLOCK) = 0
15:38:57.301865 connect(8, {sa_family=AF_INET, sin_port=htons(6379), sin_addr=inet_addr("10.13.5.3")}, 16) = -1 EINPROGRESS (Operation now in progress)
15:38:57.301942 epoll_ctl(3, EPOLL_CTL_ADD, 8, {EPOLLOUT, {u32=8, u64=8}}) = 0
15:38:57.301975 epoll_wait(3, {{EPOLLOUT, {u32=8, u64=8}}}, 32767, 200) = 1
15:38:57.302932 epoll_ctl(3, EPOLL_CTL_DEL, 8, {EPOLLOUT, {u32=8, u64=8}}) = 0
15:38:57.302968 getsockopt(8, SOL_SOCKET, SO_ERROR, [17179869184], [4]) = 0
15:38:57.303001 epoll_ctl(3, EPOLL_CTL_ADD, 8, {EPOLLIN, {u32=8, u64=8}}) = 0
15:38:57.303031 write(8, "GET hellohenk\r\n"..., 15) = 15
15:38:57.303072 epoll_wait(3, {{EPOLLIN, {u32=8, u64=8}}}, 32767, 199) = 1
15:38:57.304068 epoll_ctl(3, EPOLL_CTL_DEL, 8, {EPOLLIN, {u32=8, u64=8}}) = 0
15:38:57.304113 read(8, "$8\r\nblaataap\r\n"..., 12288) = 14
    


write(9, "SET hellohenk 8\r\nblaataap\r\n", 27) = 27
epoll_ctl(3, EPOLL_CTL_ADD, 9, {EPOLLIN, {u32=11263872, u64=11263872}}) = 0
epoll_wait(3, {{EPOLLIN, {u32=11263872, u64=11263872}}}, 1023, 200) = 1
epoll_ctl(3, EPOLL_CTL_DEL, 9, {EPOLLIN, {u32=11263872, u64=11263872}}) = 0
read(9, "+OK\r\n", 12288)               = 5
write(9, "GET hellohenk\r\n", 15)       = 15
epoll_ctl(3, EPOLL_CTL_ADD, 9, {EPOLLIN, {u32=11263872, u64=11263872}}) = 0
epoll_wait(3, {{EPOLLIN, {u32=11263872, u64=11263872}}}, 1023, 200) = 1
epoll_ctl(3, EPOLL_CTL_DEL, 9, {EPOLLIN, {u32=11263872, u64=11263872}}) = 0
read(9, "$8\r\nblaataap\r\n", 12288)    = 14
    
    
>...>...>...$libredis = Libredis();
>...>...>...$batch = $libredis->create_batch();
>...>...>...$batch->set('hellohenk', 'blaataap')->execute($libredis->get_connection("10.13.5.3"), 200);
>...>...>...$batch = $libredis->create_batch();
>...>...>...$batch->get('hellohenk')->execute($libredis->get_connection("10.13.5.3"), 200);
            while($level = $batch->next_reply(&$reply_type, &$reply_value, &$reply_length)) {
>...>...>...>...openlog("libredis", LOG_NDELAY, LOG_LOCAL2);
>...>...  >.>...syslog(LOG_DEBUG, "$reply_type $reply_value");
>...>...>...}
    